
<!DOCTYPE html>

<html lang="bg">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Комбиниран Калкулатор</title>
<style>
    body {
      background-color: #121212;
      color: #ffffff;
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 20px;
      margin-bottom: 20px;
    }
    .tabs {
      display: flex;
      justify-content: space-around;
      margin-bottom: 20px;
    }
    .tabs button {
      flex: 1;
      padding: 10px;
      font-size: 14px;
      background-color: #1e1e1e;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .tabs button.active {
      background-color: #333;
      font-weight: bold;
    }
    .section {
  max-width: 320px;
  margin: 0 auto;

      display: none;
    }
    .section.active {
      display: block;
    }
    label {
      display: block;
      margin-top: 10px;
      margin-bottom: 4px;
      font-weight: bold;
    }
    input[type="number"], select {
      width: 100%;
      padding: 8px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    .output {
      background-color: #1e1e1e;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
      line-height: 1.6;
      font-size: 14px;
    }
    button.small {
      margin-right: 5px;
      padding: 8px;
      font-size: 13px;
    }
    footer {
      text-align: center;
      color: #888;
      margin-top: 40px;
      font-size: 12px;
    }
  
    input[type="number"], select {
      max-width: 300px;
      margin: 0 auto 12px auto;
      display: block;
    }
    label {
      max-width: 300px;
      margin: 20px auto 8px auto;
      display: block;
      text-align: left;
    }
    .section {
  max-width: 320px;
  margin: 0 auto;

      padding: 0 10px;
    }
    </style>
</head>
<body>
<h1>Комбиниран Калкулатор</h1>
<div class="tabs">
<button class="active" id="tab-percent" onclick="showSection('percent')">Проценти</button>
<button id="tab-vat" onclick="showSection('vat')">ДДС</button>
<button id="tab-currency" onclick="showSection('currency')">BGN / EUR</button>
</div>
<div class="section active" id="section-percent">
<label>Сума</label>
<input id="percentBase" oninput="calculateMarkup()" type="number"/>
<div class="output" id="percentOutput"></div>
<label>Сума (отстъпка/надценка)</label>
<input id="discountBase" oninput="calculateDiscount()" type="number"/>
<label>Процент</label>
<input id="discountPercent" oninput="calculateDiscount()" type="number"/>
<select id="discountType" onchange="calculateDiscount()">
<option value="plus">+ Надценка</option>
<option value="minus">- Отстъпка</option>
</select>
<div class="output" id="discountOutput"></div>
</div>
<div class="section" id="section-vat">
<label>Сума с ДДС</label>
<input id="vatGross" oninput="fromGross()" type="number"/>
<div class="output" id="vatGrossResult"></div>
<label>Сума без ДДС</label>
<input id="vatNet" oninput="fromNet()" type="number"/>
<div class="output" id="vatNetResult"></div>
<label>Само ДДС</label>
<input id="vatOnly" oninput="fromVATOnly()" type="number"/>
<div class="output" id="vatOnlyResult"></div>
</div>
<div class="section" id="section-currency">
<label>Лева (BGN)</label>
<input id="bgn" oninput="convertCurrency('bgn')" type="number"/>
<label>Евро (EUR)</label>
<input id="eur" oninput="convertCurrency('eur')" type="number"/>
<div class="output">Курс: 1 EUR = 1.95583 BGN</div>
</div>
</div>
<footer>by Dimitar Kolev</footer>
<script>
    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById('section-' + id).classList.add('active');
      document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
      document.getElementById('tab-' + id).classList.add('active');
    }

    function calculateMarkup() {
      const base = parseFloat(document.getElementById("percentBase").value);
      const output = document.getElementById("percentOutput");
      output.innerHTML = "";
      if (isNaN(base)) return;
      for (let i = 10; i <= 100; i += 5) {
        const inc = (base * (1 + i / 100)).toFixed(2);
        const diff = (base * (i / 100)).toFixed(2);
        output.innerHTML += `+${i}% ➜ Общо: ${inc} лв ➜ Надценка: ${diff} лв<br>`;
      }
    }

    function calculateDiscount() {
      const base = parseFloat(document.getElementById("discountBase").value);
      const percent = parseFloat(document.getElementById("discountPercent").value);
      const type = document.getElementById("discountType").value;
      const out = document.getElementById("discountOutput");
      if (isNaN(base) || isNaN(percent)) {
        out.innerHTML = "";
        return;
      }
      let result = type === "plus" ? base * (1 + percent / 100) : base * (1 - percent / 100);
      let change = Math.abs(base - result);
      out.innerHTML = `Нова сума: ${result.toFixed(2)} лв<br>Разлика: ${change.toFixed(2)} лв`;
    }

    function fromGross() {
      const val = parseFloat(document.getElementById("vatGross").value);
      if (isNaN(val)) return;
      const net20 = (val / 1.2).toFixed(2), vat20 = (val - val / 1.2).toFixed(2);
      const net9 = (val / 1.09).toFixed(2), vat9 = (val - val / 1.09).toFixed(2);
      document.getElementById("vatGrossResult").innerHTML = `20% ➜ Нетна: ${net20} лв | ДДС: ${vat20} лв<br>9% ➜ Нетна: ${net9} лв | ДДС: ${vat9} лв`;
    }

    function fromNet() {
      const val = parseFloat(document.getElementById("vatNet").value);
      if (isNaN(val)) return;
      const gross20 = (val * 1.2).toFixed(2), vat20 = (val * 0.2).toFixed(2);
      const gross9 = (val * 1.09).toFixed(2), vat9 = (val * 0.09).toFixed(2);
      document.getElementById("vatNetResult").innerHTML = `20% ➜ Общо: ${gross20} лв | ДДС: ${vat20} лв<br>9% ➜ Общо: ${gross9} лв | ДДС: ${vat9} лв`;
    }

    function fromVATOnly() {
      const val = parseFloat(document.getElementById("vatOnly").value);
      if (isNaN(val)) return;
      const net20 = (val / 0.2).toFixed(2), gross20 = (val + val / 0.2).toFixed(2);
      const net9 = (val / 0.09).toFixed(2), gross9 = (val + val / 0.09).toFixed(2);
      document.getElementById("vatOnlyResult").innerHTML = `20% ➜ Нетна: ${net20} лв | Общо: ${gross20} лв<br>9% ➜ Нетна: ${net9} лв | Общо: ${gross9} лв`;
    }

    function convertCurrency(from) {
      const rate = 1.95583;
      const bgn = document.getElementById("bgn");
      const eur = document.getElementById("eur");
      if (from === "bgn") {
        const val = parseFloat(bgn.value);
        if (!isNaN(val)) eur.value = (val / rate).toFixed(2);
      } else {
        const val = parseFloat(eur.value);
        if (!isNaN(val)) bgn.value = (val * rate).toFixed(2);
      }
    }
  </script>
</body>
</html>
